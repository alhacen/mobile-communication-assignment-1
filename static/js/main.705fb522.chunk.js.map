{"version":3,"sources":["../../../../node_modules/peerjs/dist sync","components/messageChunk.js","components/message.js","App.js","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Message","children","me","className","style","margin","scroll","setTimeout","document","getElementById","scrollTop","scrollHeight","peerId","peer","notify","window","sound","currentTime","play","useState","messages","setMessages","tmpMsg","setTmpMsg","useEffect","roomId","location","hash","substr","r","length","on","conn","connect","p","history","replaceState","type","msg","time","Date","now","data","handleSend","send","href","height","map","_","onSubmit","preventDefault","onChange","target","value","placeholder","onClick","xmlns","viewBox","fill","d","App","setPeer","setpeerId","Peer","config","iceServers","url","credential","username","a","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.705fb522.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 19;","import React from \"react\";\nconst Message = ({ children, me = 0 }) => {\n  return (\n    <div\n      className={`flex items-end  ${\n        me === 1 ? \" justify-end\" : me === 0 ? \"\" : \"justify-center\"\n      }`}\n      style={{ margin: \"4px\" }}\n    >\n      <div className=\"flex flex-col space-y-2 text-xs max-w-xs mx-2 order-2 items-start\">\n        <span\n          className={`px-4 py-2 inline-block   ${\n            me === 1\n              ? \"rounded-lg rounded-bl-none bg-blue-600 text-white\"\n              : me === 0\n              ? \"rounded-lg rounded-bl-none bg-gray-300 text-gray-600\"\n              : \"shadow-md border-2\"\n          } `}\n        >\n          {children}\n        </span>\n      </div>\n    </div>\n  );\n};\nexport default Message;\n","import React, { useEffect, useState } from \"react\";\nimport MessageComp from \"./messageChunk\";\nconst scroll = () => {\n  setTimeout(() => {\n    document.getElementById(\"messages\").scrollTop = document.getElementById(\n      \"messages\"\n    ).scrollHeight;\n  }, 50);\n};\nconst Message = ({ peerId, peer }) => {\n  //message type 0-> srcUser, 1->remoteUser, 2->info\n  const notify = () => {\n    window.sound.currentTime = 0;\n    window.sound.play();\n  };\n  const [messages, setMessages] = useState([]);\n  window.messages = messages;\n  const [tmpMsg, setTmpMsg] = useState(\"\");\n  useEffect(() => {\n    let roomId = window.location.hash.substr(1)\nwindow.r = roomId\n    if (\n      peer&&\n      roomId.length === 36 &&\n      roomId[8] === \"-\" &&\n      roomId[13] === \"-\" &&\n      roomId[18] === \"-\" &&\n      roomId[23] === \"-\"\n    ) {\n      peer.on(\"open\",()=>{\n        let conn = peer.connect(roomId);\n        window.p =peer\n        window.conn = conn;\n        conn.on(\"open\", function () {\n          window.history.replaceState(null, null, ' ');\n  \n          setMessages([...window.messages, { type: 3, msg: \"connected\", time:Date.now()}]);\n          conn.on(\"data\", function (data) {\n            notify();\n            setMessages([...window.messages, { type: 0, msg: data, time:Date.now()}]);\n          });\n        });\n\n      })\n    }\n    peer?.on(\"connection\", function (conn) {\n      window.conn = conn;\n      notify();\n      setMessages([...window.messages, { type: 3, msg: \"User connected\", time:Date.now()}]);\n\n      conn.on(\"data\", function (data) {\n        notify();\n        setMessages([...window.messages, { type: 0, msg: data, time:Date.now()}]);\n        scroll();\n      });\n    });\n  }, [peer]);\n  const handleSend = () => {\n    if(tmpMsg===\"\")\n    return\n    setMessages([...messages, { type: 1, msg: tmpMsg, time:Date.now()}]);\n    \n    try {\n      window.conn.send(tmpMsg);\n    } catch (e) {}\n    \n    scroll();\n    setTmpMsg(\"\");\n  };\n  useEffect(() => {\n    if (peerId !== \"\" && window.location.hash ===\"\")\n      setMessages([\n        ...window.messages,\n        { type: 3, msg: `Your Room Id is` },\n        { type: 3, msg: <a className=\"hover:underline\" href={`${window.location.href}#${peerId}`}>{`${window.location.href}#${peerId}`}</a> }\n      ]);\n  }, [peerId, setMessages]);\n  return (\n    <div className=\"flex-1 p:2 sm:p-6 justify-between flex flex-col\" style={{height: 'calc(var(--vh, 1vh) * 100)'}}>\n      <div\n        id=\"messages\"\n        className=\"flex flex-col space-y-4 p-3 overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch\"\n      >\n        {messages.map((_) => {\n          return (\n            <MessageComp key={_.time  } me={_.type}>\n              {_.msg}\n            </MessageComp>\n          );\n        })}\n      </div>\n      <div className=\"border-t-2 border-gray-200 px-4 pt-4 mb-2 sm:mb-0\">\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSend();\n          }}\n        >\n          <div className=\"relative flex\">\n            <input\n              onChange={(e) => {\n                setTmpMsg(e.target.value);\n              }}\n              value={tmpMsg}\n              type=\"text\"\n              placeholder=\"Write Something\"\n              className=\"w-full focus:outline-none focus:placeholder-gray-400 text-gray-600 placeholder-gray-600 pl-12 bg-gray-200 rounded-full py-3\"\n            />\n            <div className=\"absolute right-0 items-center inset-y-0 sm:flex\">\n              <button\n                onClick={() => {\n                  handleSend();\n                }}\n                type=\"button\"\n                className=\"inline-flex items-center justify-center rounded-full h-12 w-12 transition duration-500 ease-in-out text-white bg-blue-500 hover:bg-blue-400 focus:outline-none\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"currentColor\"\n                  className=\"h-6 w-6 transform rotate-90\"\n                >\n                  <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"></path>\n                </svg>\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\nexport default Message;\n","import React, { useState, useEffect } from \"react\";\nimport \"./style.css\";\nimport \"./styles/tailwind-pre-build.css\";\nimport Message from \"./components/message\";\nimport Peer from \"peerjs\";\nexport default function App() {\n  const [peer, setPeer] = useState(null);\n  const [peerId, setpeerId] = useState(\"\");\n  useEffect(() => {\n    var peer = new Peer({\n      config: {\n        iceServers: [\n          { url: \"stun:stun.xten.com\" },\n          {\n            url: \"turn:numb.viagenie.ca\",\n            credential: \"muazkh\",\n            username: \"webrtc@live.com\"\n          }\n        ]\n      } /* Sample servers, please use appropriate ones */\n    });\n    setPeer(peer);\n    window.peer = peer;\n    peer.on(\"open\", async function (id) {\n      window.peerId = id;\n      setpeerId(id);\n      \n    });\n  }, [setpeerId, setPeer]);\n  return (\n    <div>\n      <Message peerId={peerId} peer={peer} />\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}