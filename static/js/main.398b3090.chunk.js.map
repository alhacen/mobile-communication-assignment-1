{"version":3,"sources":["../../../../node_modules/peerjs/dist sync","components/messageChunk.js","components/message.js","App.js","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Message","children","me","className","style","margin","scroll","setTimeout","document","getElementById","scrollTop","scrollHeight","peerId","peer","notify","window","sound","currentTime","play","useState","messages","setMessages","console","log","tmpMsg","setTmpMsg","useEffect","on","conn","type","msg","data","handleSend","length","connect","send","map","_","onSubmit","preventDefault","onChange","target","value","placeholder","onClick","xmlns","viewBox","fill","d","App","setPeer","setpeerId","Peer","config","iceServers","url","credential","username","a","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.398b3090.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 19;","import React from \"react\";\nconst Message = ({ children, me = 0 }) => {\n  return (\n    <div\n      className={`flex items-end  ${\n        me === 1 ? \" justify-end\" : me === 0 ? \"\" : \"justify-center\"\n      }`}\n      style={{ margin: \"4px\" }}\n    >\n      <div className=\"flex flex-col space-y-2 text-xs max-w-xs mx-2 order-2 items-start\">\n        <span\n          className={`px-4 py-2 inline-block   ${\n            me === 1\n              ? \"rounded-lg rounded-bl-none bg-blue-600 text-white\"\n              : me === 0\n              ? \"rounded-lg rounded-bl-none bg-gray-300 text-gray-600\"\n              : \"shadow-md border-2\"\n          } `}\n        >\n          {children}\n        </span>\n      </div>\n    </div>\n  );\n};\nexport default Message;\n","import React, { useEffect, useState } from \"react\";\nimport MessageComp from \"./messageChunk\";\nconst scroll = () => {\n  setTimeout(() => {\n    document.getElementById(\"messages\").scrollTop = document.getElementById(\n      \"messages\"\n    ).scrollHeight;\n  }, 50);\n};\nconst Message = ({ peerId, peer }) => {\n  const notify = () => {\n    window.sound.currentTime = 0;\n    window.sound.play();\n  };\n  const [messages, setMessages] = useState([]);\n  window.messages = messages;\n  console.log(messages);\n  const [tmpMsg, setTmpMsg] = useState(\"\");\n  useEffect(() => {\n    peer?.on(\"connection\", function (conn) {\n      window.conn = conn;\n      notify();\n      setMessages([...window.messages, { type: 3, msg: \"Chat connected\" }]);\n\n      conn.on(\"data\", function (data) {\n        notify();\n        setMessages([...window.messages, { type: 0, msg: data }]);\n        scroll();\n      });\n    });\n  }, [peer]);\n  const handleSend = () => {\n    setMessages([...messages, { type: 1, msg: tmpMsg }]);\n    if (\n      tmpMsg.length === 36 &&\n      tmpMsg[8] === \"-\" &&\n      tmpMsg[13] === \"-\" &&\n      tmpMsg[18] === \"-\" &&\n      tmpMsg[23] === \"-\"\n    ) {\n      let conn = peer.connect(tmpMsg);\n      window.conn = conn;\n      conn.on(\"open\", function () {\n        // idkwhattosay = [];\n        setMessages([...window.messages, { type: 3, msg: \"connected\" }]);\n        conn.on(\"data\", function (data) {\n          notify();\n          setMessages([...window.messages, { type: 0, msg: data }]);\n        });\n      });\n    } else {\n      try {\n        window.conn.send(tmpMsg);\n      } catch (e) {}\n    }\n    scroll();\n    setTmpMsg(\"\");\n  };\n  useEffect(() => {\n    if (peerId !== \"\")\n      setMessages([\n        ...messages,\n        { type: 3, msg: `Your Id is` },\n        { type: 3, msg: peerId }\n      ]);\n  }, [peerId, setMessages]);\n  return (\n    <div className=\"flex-1 p:2 sm:p-6 justify-between flex flex-col h-screen\">\n      <div\n        id=\"messages\"\n        className=\"flex flex-col space-y-4 p-3 overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch\"\n      >\n        {messages.map((_) => {\n          return (\n            <MessageComp key={_.msg} me={_.type}>\n              {_.msg}\n            </MessageComp>\n          );\n        })}\n        {/* return <MessageComp>${_.msg}</MessageComp>; */}\n      </div>\n      <div className=\"border-t-2 border-gray-200 px-4 pt-4 mb-2 sm:mb-0\">\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSend();\n          }}\n        >\n          <div className=\"relative flex\">\n            <input\n              onChange={(e) => {\n                setTmpMsg(e.target.value);\n              }}\n              value={tmpMsg}\n              type=\"text\"\n              placeholder=\"Write Something\"\n              className=\"w-full focus:outline-none focus:placeholder-gray-400 text-gray-600 placeholder-gray-600 pl-12 bg-gray-200 rounded-full py-3\"\n            />\n            <div className=\"absolute right-0 items-center inset-y-0 sm:flex\">\n              <button\n                onClick={() => {\n                  handleSend();\n                }}\n                type=\"button\"\n                className=\"inline-flex items-center justify-center rounded-full h-12 w-12 transition duration-500 ease-in-out text-white bg-blue-500 hover:bg-blue-400 focus:outline-none\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"currentColor\"\n                  className=\"h-6 w-6 transform rotate-90\"\n                >\n                  <path d=\"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"></path>\n                </svg>\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\nexport default Message;\n","import React, { useState, useEffect } from \"react\";\nimport \"./style.css\";\nimport \"./styles/tailwind-pre-build.css\";\nimport Message from \"./components/message\";\nimport Peer from \"peerjs\";\nexport default function App() {\n  const [peer, setPeer] = useState(null);\n  const [peerId, setpeerId] = useState(\"\");\n  useEffect(() => {\n    var peer = new Peer({\n      config: {\n        iceServers: [\n          { url: \"stun:stun.xten.com\" },\n          {\n            url: \"turn:numb.viagenie.ca\",\n            credential: \"muazkh\",\n            username: \"webrtc@live.com\"\n          }\n        ]\n      } /* Sample servers, please use appropriate ones */\n    });\n    setPeer(peer);\n    window.peer = peer;\n    peer.on(\"open\", async function (id) {\n      window.peerId = id;\n      setpeerId(id);\n    });\n  }, [setpeerId, setPeer]);\n  return (\n    <div>\n      <Message peerId={peerId} peer={peer} />\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}